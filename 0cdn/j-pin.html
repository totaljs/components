<style>.ui-pin-input{width:44px;border:2px solid black;position:relative;display:inline-block;margin:0 8px 8px 0;border-radius:4px;padding:8px 2px;background-color:white}.ui-pin-input input{width:100%;border:0;background-color:white;outline:0;font-size:20px;text-align:center;font-weight:bold;border-radius:0;appearance:none;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;color:black}.ui-pin-invalid .ui-pin-input,.ui-pin-invalid input{background-color:#FFF3F3}.ui-disabled .ui-pin-input{background-color:#F0F0F0;border-color:#D0D0D0}.ui-disabled .ui-pin-input input{background-color:#F0F0F0;cursor:not-allowed;color:gray}.ui-dark .ui-pin-input{background-color:#252525;border-color:#353535}.ui-dark .ui-pin-input input{background-color:#252525;color:white}.ui-dark .ui-disabled .ui-pin-input{background-color:#282828;border-color:#282828}.ui-dark .ui-disabled .ui-pin-input input{background-color:#282828;color:gray}</style>
<script>COMPONENT('pin','blank:‚óè;count:6;hide:false;mask:true',function(self,config){var reg_validation=/[0-9]/,inputs=null,skip=false,count=0;self.nocompile&&self.nocompile();self.validate=function(value,init){return init?true:config.required||config.disabled?!!(value&&value.indexOf(' ')===-1):true};self.configure=function(key,value,init){switch(key){case'count':!init&&self.redraw();break;case'disabled':self.find('input').prop('disabled',value);self.tclass('ui-disabled',value);!init&&!value&&self.state(1,1);break}};self.redraw=function(){var builder=[];count=config.count;for(var i=0;i<count;i++)builder.push('<div data-index="{0}" class="ui-pin-input"><input type="{1}" maxlength="1" autocomplete="pin{2}" name="pin{2}" pattern="[0-9]" /></div>'.format(i,isMOBILE?'tel':'text',Date.now()+i));self.html(builder.join(''))};self.make=function(){self.aclass('ui-pin');self.redraw();self.event('keypress','input',function(e){var c=e.which,t=this;if(c>=48&&c<=57){var c=String.fromCharCode(e.charCode);if(t.value!==c)t.value=c;if(config.mask){if(config.hide){self.maskforce(t)}else self.mask()}else{t.setAttribute('data-value',t.value);self.getter()}setTimeout(function(el){var next=el.parent().next().find('input');next.length&&next.focus()},50,$(t))}else if(c>30)e.preventDefault()});self.event('keydown','input',function(e){e.which===8&&setTimeout(function(el){if(!el.val()){el.attrd('value','');var prev=el.parent().prev().find('input');prev.val()&&prev.val('').focus();config.mask&&self.mask()}},50,$(this))});inputs=self.find('input')};self.maskforce2=function(){self.maskforce(this)};self.maskforce=function(input){if(input.value&&reg_validation.test(input.value)){input.setAttribute('data-value',input.value);input.value=config.blank;self.getter()}};self.mask=function(){setTimeout2(self.id+'.mask',function(){inputs.each(self.maskforce2)},300)};self.focus=function(){self.find('input').eq(0).focus()};self.getter=function(){setTimeout2(self.id+'.getter',function(){var value='';inputs.each(function(){value+=this.getAttribute('data-value')||' '});if(self.get()!==value){self.change(true);skip=true;self.set(value)}},100)};self.setter=function(value){if(skip){skip=false;return}if(value==null)value='';inputs.each(function(index){var number=value.substring(index,index+1);this.setAttribute('data-value',number);this.value=value?config.mask?config.blank:number:''})};self.state=function(type){if(!type)return;var invalid=config.required?self.isInvalid():false;if(invalid===self.$oldstate)return;self.$oldstate=invalid;self.tclass('ui-pin-invalid',invalid)}});</script>