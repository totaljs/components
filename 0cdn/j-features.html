<style>.ui-features-layer{position:fixed;width:100%;height:100%;left:0;top:0;overflow:hidden;z-index:101;background-color:rgba(0,0,0,0.8);transition:0.25s transform cubic-bezier(0.23,1,0.32,1);transform:scale(0.8)}.ui-features{position:absolute;left:-100;top:-100;z-index:20;width:500px;box-shadow:0 1px 20px rgba(0,0,0,0.2);transform:translate(0px,20px);background-color:#FFF;border-radius:var(--radius);overflow:hidden}.ui-features-search{height:60px;background:#FFF;border-radius:var(--radius) var(--radius) 0 0;border-bottom:1px solid #E0E0E0}.ui-features-search input{width:100%;background-color:#FFF;border:0;font-size:20px;outline:0}.ui-features-search>div{margin-left:42px;padding:15px 10px 0 0}.ui-features-search>span{float:left;width:32px;text-align:right;padding:17px 0 0;font-size:18px}.ui-features .selected{font-weight:bold;background-color:#F8F8F8;color:#1484FC !important}.ui-features-visible{opacity:1;transform:scale(1)}.ui-features-container{max-height:200px;overflow-x:hidden;overflow-y:auto;overflow-scrolling:touch}.ui-features ul{list-style-type:none;margin:0;padding:0}.ui-features li{border-bottom:1px solid #E5E5E5;font-size:14px;padding:8px 15px 0;background-color:#FFF;cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;height:37px}.ui-features li i{margin-right:10px;width:25px;border-right:1px solid #E0E0E0}.ui-features li:hover{background-color:#F8F8F8}.ui-features-noscroll{overflow:hidden !important}.ui-dark .ui-features{background-color:#404040}.ui-dark .ui-features-search{background:#202020;border-bottom-color:#404040}.ui-dark .ui-features-search input{background-color:#202020}.ui-dark .ui-features .selected{background-color:#303030;color:#FFF !important}.ui-dark .ui-features li{border-bottom-color:#404040;background-color:#202020}.ui-dark .ui-features li i{border-right-color:#404040}.ui-dark .ui-features li:hover{background-color:#282828}</style>
<script>COMPONENT('features','height:37',function(self,config,cls){var cls2='.'+cls,container,timeout,input,search,scroller=null,is=false,results=false,selectedindex=0,resultscount=0;self.oldsearch='';self.items=null;self.template=Tangular.compile('<li data-search="{{ $.search}}" data-index="{{ $.index}}"{{ if selected}} class="selected"{{ fi}}>{{ if icon}}<i class="{{ icon}}"></i>{{ fi}}{{ name | raw}}</li>');self.callback=null;self.readonly();self.singleton();self.nocompile&&self.nocompile();self.configure=function(key,value,init){if(init)return;switch(key){case'placeholder':self.find('input').prop('placeholder',value);break}};self.make=function(){self.aclass(cls+'-layer hidden');self.append('<div class="{1}"><div class="{1}-search"><span><i class="fa fa-search"></i></span><div><input type="text" placeholder="{0}" class="{1}-search-input" /></div></div><div class="{1}-container noscrollbar"><ul></ul></div></div>'.format(config.placeholder,cls));container=self.find('ul');input=self.find('input');search=self.find(cls2);scroller=self.find(cls2+'-container');self.event('touchstart mousedown','li[data-index]',function(e){self.callback&&self.callback(self.items[+this.getAttribute('data-index')]);self.hide();e.preventDefault();e.stopPropagation()});$(document).on('touchstart mousedown',function(e){is&&!$(e.target).hclass(cls+'-search-input')&&self.hide(0)});$(window).on('resize',function(){is&&self.hide(0)});self.event('keydown','input',function(e){var o=false;switch(e.which){case 27:o=true;self.hide();break;case 13:o=true;var sel=self.find('li.selected');if(sel.length&&self.callback)self.callback(self.items[+sel.attrd('index')]);self.hide();break;case 38:o=true;selectedindex--;if(selectedindex<0)selectedindex=0;else self.move();break;case 40:o=true;selectedindex++;if(selectedindex>=resultscount)selectedindex=resultscount;else self.move();break}if(o&&results){e.preventDefault();e.stopPropagation()}});self.event('keyup','input',function(){setTimeout2(self.id,self.search,100,null,this.value)})};self.search=function(value){if(!value){if(self.oldsearch===value)return;self.oldsearch=value;selectedindex=0;results=true;resultscount=self.items.length;container.find('li').rclass('hidden selected');self.move();return}if(self.oldsearch===value)return;self.oldsearch=value;value=value.toSearch().split(' ');results=false;resultscount=0;selectedindex=0;container.find('li').each(function(){var el=$(this);var val=el.attrd('search');var h=false;for(var i=0;i<value.length;i++){if(val.indexOf(value[i])===-1){h=true;break}}if(!h){results=true;resultscount++}el.tclass('hidden',h);el.rclass('selected')});self.move()};self.move=function(){var counter=0,h=scroller.css('max-height').parseInt();container.find('li').each(function(){var el=$(this);if(el.hclass('hidden'))return;var is=selectedindex===counter;el.tclass('selected',is);if(is){var t=(config.height*counter)-config.height;if((t+config.height*5)>h)scroller.scrollTop(t);else scroller.scrollTop(0)}counter++})};self.show=function(items,callback){if(is){clearTimeout(timeout);self.hide(0);return}var type=typeof(items);var item;if(type==='string')items=self.get(items);if(!items){self.hide(0);return}self.items=items;self.callback=callback;results=true;resultscount=self.items.length;input.val('');var builder=[],indexer={};for(var i=0,length=items.length;i<length;i++){item=items[i];indexer.index=i;indexer.search=(item.name+' '+(item.keywords||'')).trim().toSearch();if(item.icon&&item.icon.indexOf(' ')===-1)item.icon='fa fa-'+item.icon;!item.value&&(item.value=item.name);builder.push(self.template(item,indexer))}container.html(builder);var W=$(window);var top=((W.height()/2)-(search.height()/2))-scroller.css('max-height').parseInt();var options={top:top,left:(W.width()/2)-(search.width()/2)};search.css(options);self.move();if(is)return;self.rclass('hidden');setTimeout(function(){self.aclass(cls+'-visible')},100);!isMOBILE&&setTimeout(function(){input.focus()},500);is=true;$('html,body').aclass(cls+'-noscroll')};self.hide=function(sleep){if(!is)return;clearTimeout(timeout);timeout=setTimeout(function(){self.aclass('hidden').rclass(cls+'-visible');self.callback=null;self.target=null;is=false;$('html,body').rclass(cls+'-noscroll')},sleep?sleep:100)}});</script>