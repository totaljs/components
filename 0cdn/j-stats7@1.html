<style>.ui-stats7{border-radius:var(--radius) var(--radius) 0 0}.ui-stats7-border{border:1px solid #E0E0E0}.ui-stats7-container{display:table;width:100%;table-layout:fixed}.ui-stats7-body{padding:1px 0}.ui-stats7-border .ui-stats7-bar{border-left:1px solid #F0F0F0}.ui-stats7-border .ui-stats7-body{padding:0}.ui-stats7-border .ui-stats7-bar:first-child{border-left:0 !important}.ui-stats7-border .ui-stats7-bar{padding:0 2px 2px}.ui-stats7-bar{display:table-cell;vertical-align:bottom;padding:0 1px 1px;width:4.16%;font-size:9px;text-align:center;color:gray}.ui-stats7-bar div{background-color:#D0D0D0;border-radius:var(--radius) var(--radius) 0 0;position:relative;text-align:left;color:gray}.ui-stats7-bar:hover{opacity:0.8}.ui-stats7-bar div span{position:absolute;top:3px;width:100%;text-align:center;border-bottom:1px solid #E0E0E0;padding:0 0 1px}.ui-stats7-bar div.online{background-color:#4584F1 !important;color:#FFF}.ui-stats7-bar div.online span{border-bottom-color:#6398F4 !important}.ui-stats7-bar>span{background-color:#3D6ECC;padding:1px 0;display:block;color:#FFF;font-weight:bold}.ui-stats7-bar div.now{background-color:red !important}.ui-stats7-bar div.now span{border-bottom-color:red !important}.ui-dark .ui-stats7-border{border-color:#404040}.ui-dark .ui-stats7-bar div{background-color:#404040}.ui-dark .ui-stats7-bar div span{border-bottom-color:#606060}.ui-dark .ui-stats7-border .ui-stats7-bar{border-left:1px solid #404040}</style>
<script>COMPONENT('stats7@1','height:120;border:1;highlight:0;firstday:0',function(self,config,cls){var old='',days=[],days2={},bars=[],binded=false,cls2='.'+cls;self.readonly();self.nocompile();self.make=function(){self.aclass(cls);var index=config.firstday;for(var i=0;i<7;i++){var day={};day.pos=i;day.index=index;day.name=DAYS[index].substring(0,2).toUpperCase();days.push(day);days2[i]=day;index++;if(index>6)index=0}var builder=[];for(var i=0;i<7;i++)builder.push('<div class="{0}-bar"><div><span></span></div><span>{1}</span></div>'.format(cls,days[i].name));self.append('<div class="{0}-body"><div class="{0}-container hidden">{1}</div></div>'.format(cls,builder.join('')));self.find(cls2+'-bar').each(function(){bars.push($(this).find('div').eq(0))})};self.configure=function(key,value){if(key==='border')self.tclass(cls+'-border',!!value)};self.setter=function(value){var sum=value?value.join(','):'';if(sum===old)return;var container=self.find(cls2+'-container');if(!binded){container.rclass('hidden');binded=true}container.css('height',config.height);var current=days.findItem('index',NOW.getDay()).pos;old=sum;var max=config.max;if(!max){max=0;for(var i=0;i<7;i++){if(value[i]>max)max=value[i]}}for(var i=0;i<7;i++){var num=value[i];if(num>max)num=max;var p=(num/max)*100;if(isNaN(p))p=0;var h=((config.height/100)*p)-17;if(h<18)h=18;var val=value[i];if(val>1000)val=(val/1000).floor(1)+' K';var day=days2[i];bars[day.index].css('height',(h>>0)+'px').tclass('online',value[i]>0).find('span').html(val);config.highlight&&bars[day.index].tclass('now',day.index===current)}}});</script>