<style>.ui-detail-container{padding:0 0 20px}.ui-detail-group:first-child{margin-top:10px}.ui-detail-group:lastchild-child section{margin-bottom:0}.ui-detail-group{padding:0;margin-bottom:20px;border:1px solid #E0E0E0;border-radius:2px}.ui-detail-group label{display:block;padding:10px 15px;font-size:16px;font-weight:bold;background-color:#F8F8F8}.ui-detail-group label i{width:22px}.ui-detail-group label i:before{content:'\f146'}.ui-detail-hidden label i:before{content:'\f0fe' !important}.ui-detail-hidden section{display:none}.ui-detail-item{padding:6px 0;background-color:white;margin-bottom:1px;font-size:13px;border-top:1px solid #E0E0E0}.ui-detail-key{float:left;width:170px;line-height:24px;padding:0 5px 0 15px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:#707070}.ui-detail-key i{margin-right:7px}.ui-detail-value{margin:0 10px 0 170px;line-height:21px}.ui-detail-note{color:gray;font-size:11px;line-height:13px;font-weight:normal}.ui-detail-password{cursor:pointer}.ui-detail-string, .ui-detail-password, .ui-detail-number, .ui-detail-date, .ui-detail-list, .ui-detail-file{padding:0}.ui-detail-date > i{float:right;width:18px;margin:4px 0 0;text-align:right;font-size:12px}.ui-detail-date > div{margin-right:18px}.ui-detail-bool, .ui-detail-list, .ui-detail-color, .ui-detail-fontawesome, .ui-detail-emoji, .ui-detail-file{line-height:22px}.ui-detail-bool span{width:15px;height:15px;display:inline-block;border:1px solid #D0D0D0;line-height:15px;font-size:9px;text-align:center;margin:4px 0 5px;border-radius:2px;position:relative;color:white;vertical-align:top}.ui-detail-bool.checked span{background-color:#4285F4;border-color:#4285F4}.ui-detail-fontawesome, .ui-detail-emoji, .ui-detail-color{line-height:22px;display:block;font-size:20px;position:relative;text-align:left;margin-bottom:2px}.ui-detail-list i{float:right;width:20px;line-height:23px;text-align:right;font-size:12px}.ui-detail-list span{display:block;margin-right:25px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.ui-detail-color{padding:3px 0 0}.ui-detail-color span b{height:18px;display:block;border-radius:1px;color:gray;width:60px}.ui-detail-small .ui-detail-value{line-height:20px}.ui-detail-small .ui-detail-bool{line-height:18px}.ui-detail-small .ui-detail-bool span{width:13px;height:13px;line-height:12px;font-size:7px;margin:2px 0 0}.ui-detail-small .ui-detail-group label{padding:5px 8px;font-size:13px}.ui-detail-small .ui-detail-item{font-size:12px;padding:3px 0;min-height:24px}.ui-detail-small .ui-detail-key{padding-left:8px;line-height:20px}.ui-detail-small .ui-detail-color span b{height:15px;width:40px}.ui-detail-small .ui-detail-fontawesome{font-size:14px;line-height:16px;padding-top:2px}.ui-detail-small .ui-detail-emoji{font-size:14px;line-height:16px;padding-top:2px}.ui-detail-small .ui-detail-list{line-height:18px}.ui-dark .ui-detail-group{border-color:#404040}.ui-dark .ui-detail-item{border-color:#404040}.ui-dark .ui-detail-item{background-color:#202020}.ui-dark .ui-detail-group label{background-color:#282828}.ui-dark .ui-detail-bool span{color:#202020;border-color:#404040}.ui-dark .ui-detail-bool.checked span{color:white;border-color:#4285F4}.ui-dark .ui-detail-note{color:#606060}</style>
<script>COMPONENT('detail','datetimeformat:yyyy-MM-dd HH:mm;dateformat:yyyy-MM-dd;timeformat:HH:mm;defaultgroup:Default',function(self,config,cls){var cls2='.'+cls,types={},container,mapping;self.make=function(){self.aclass(cls+(config.small?(' '+cls+'-small'):''));var scr=self.find('script');if(scr.length)mapping=(new Function('return '+scr.html().trim()))();self.html('<div><div class="{0}-container"></div></div>'.format(cls));container=self.find(cls2+'-container');var keys=Object.keys(types);for(var i=0;i<keys.length;i++){var key=keys[i];types[key].init&&types[key].init()}};self.nocompile();self.bindvisible();self.mapvalue=function(item){var val=item.path?item.path.indexOf('.')===-1?item.value[item.path]:GET(item.path,item.value):item.value;return val==null?(item.empty||DEF.empty):val};self.register=function(name,init,render){types[name]={};types[name].init=init;types[name].render=render;init(self)};types.template={};types.template.init=NOOP;types.template.render=function(item,next){var value=self.mapvalue(item);next('<div class="{0}-template">{1}</div>'.format(cls,Tangular.render(item.template,{value:value})))};types.string={};types.string.init=NOOP;types.string.render=function(item,next){var value=self.mapvalue(item);next('<div class="{0}-string">{1}</div>'.format(cls,Thelpers.encode(value)))};types.password={};types.password.init=function(){self.event('click',cls2+'-password',function(){var el=$(this);var html=el.html();if(html.substring(0,DEF.empty.length)===DEF.empty){return}var tmp=el.attrd('value');el.attrd('value',html);el.html(tmp)})};types.password.render=function(item,next){var value=self.mapvalue(item);next('<div class="{0}-password" data-value="{1}">{2}</div>'.format(cls,Thelpers.encode(value),value?'************':DEF.empty))};types.number={};types.number.init=NOOP;types.number.render=function(item,next){var value=self.mapvalue(item);var format=item.format||config.numberformat;value=format?value.format(format):value;next('<div class="{0}-number">{1}</div>'.format(cls,Thelpers.encode(value+'')))};types.date={};types.date.init=NOOP;types.date.render=function(item,next){var value=self.mapvalue(item);next('<div class="{0}-date">{1}</div>'.format(cls,value?value.format(item.format||config.dateformat):''))};types.bool={};types.bool.init=NOOP;types.bool.render=function(item,next){var value=self.mapvalue(item);next('<div class="{0}-bool{1}"><span><i class="fa fa-check"></i></span></div>'.format(cls,value?' checked':''))};types.list={};types.list.init=NOOP;types.list.render=function(item,next){var value=self.mapvalue(item);var template='<div class="{0}-list"><span>{1}</span></div>';if(item.detail){AJAX('GET '+item.detail.format(encodeURIComponent(value)),function(response){next(template.format(cls,response[item.dirkey||'name']||item.placeholder||DEF.empty))})}else{var arr=typeof(item.items)==='string'?GET(item.items):item.items;var m=(arr||EMPTYARRAY).findValue(item.dirvalue||'id',value,item.dirkey||'name',item.placeholder||DEF.empty);next(template.format(cls,m))}};types.color={};types.color.init=NOOP;types.color.render=function(item,next){var value=self.mapvalue(item);next('<div class="{0}-color"><span><b{1}>&nbsp;</b></span></div>'.format(cls,value?(' style="background-color:'+value+'"'):''))};types.fontawesome={};types.fontawesome.init=NOOP;types.fontawesome.render=function(item,next){var value=self.mapvalue(item);next('<div class="{0}-fontawesome"><i class="{1}"></i></div>'.format(cls,value||''))};types.emoji={};types.emoji.init=NOOP;types.emoji.render=function(item,next){var value=self.mapvalue(item);next('<div class="{0}-emoji">{1}</div>'.format(cls,value||DEF.empty))};self.nocompile();self.bindvisible();self.render=function(item,index){var type=types[item.type==='boolean'?'bool':item.type],c=cls,meta={label:item.label||item.name};if(item.icon){var tmp=item.icon;if(tmp.indexOf(' ')===-1)tmp='fa fa-'+tmp;meta.icon='<i class="{0}"></i>'.format(tmp)}else meta.icon='';var el=$('<div class="{2}-item{3}" data-index="{1}"><div class="{0}-key">{{ icon}}{{ label}}</div><div class="{0}-value">&nbsp;</div></div>'.format(cls,index,c,item.required?(' '+cls+'-required'):'').arg(meta));type.render(item,function(html){if(item.note)html+='<div class="{0}-note">{1}</div>'.format(cls,item.note);el.find(cls2+'-value').html(html)});return el};self.setter=function(value){if(!value)value=EMPTYARRAY;if(mapping&&value&&value!==EMPTYARRAY){var obj=value;for(var i=0;i<mapping.length;i++){var m=mapping[i];m.value=obj}value=mapping}container.empty();var groups={};for(var i=0;i<value.length;i++){var item=value[i],g=item.group||config.defaultgroup;item.invalid=false;if(!groups[g])groups[g]={html:[]};switch(item.type){case'fontawesome':case'string':item.prev=item.value||'';break;case'date':item.prev=item.value&&item.value instanceof Date?item.value.format(item.format||config.dateformat):null;break;default:item.prev=item.value;break}groups[g].html.push(self.render(item,i))}var keys=Object.keys(groups);for(var i=0;i<keys.length;i++){var key=keys[i],group=groups[key],hash='g'+HASH(key,true);var el=$('<div class="{0}-group" data-id="{2}"><label>{1}</label><section></section></div>'.format(cls,key,hash));var section=el.find('section');for(var j=0;j<group.html.length;j++)section.append(group.html[j]);container.append(el)}}});</script>