<style>.ui-layer-noscroll{overflow:hidden !important}.ui-layer{position:fixed;right:-60px;top:0;height:100%;box-shadow:-10px 10px 20px rgba(0,0,0,0.1);transition:all 0.3s;opacity:0;background-color:#FFF;border-left:1px solid #E0E0E0}.ui-layer-toolbar{height:55px;border-bottom:1px solid #E0E0E0}.ui-layer-toolbar-back{border-right:1px solid #E0E0E0;float:left}.ui-layer-toolbar-back button{height:54px;border:0;background-color:#FFF;cursor:pointer;width:65px;transition:background 0.3s;outline:0;color:red;font-size:16px !important}.ui-layer-toolbar-back button:hover{background-color:#E0E0E0}.ui-layer-toolbar-caption{font-size:18px;font-weight:bold;float:left;margin:15px 0 0 20px;color:#000}.ui-layer-visible{right:0;opacity:1}.ui-layer-scroll{overflow-x:hidden;overflow-y:auto;overflow-scrolling:touch}.ui-dark .ui-layer-toolbar-back{border-right-color:#101010}.ui-dark .ui-layer-toolbar-back button{background-color:#303030}.ui-dark .ui-layer-toolbar-back button:hover{background-color:#353535}.ui-dark .ui-layer-toolbar{background-color:#191919;border-bottom-color:#101010;color:#FFF}.ui-dark .ui-layer-toolbar-caption{color:#FFF}.ui-dark .ui-layer{background-color:#202020;border-left:1px solid #101010}</style>
<script>COMPONENT('layer','offset:65;scrollbar:true',function(self,config,cls){var cls2='.'+cls,visible=false,csspos={},W=window;if(!W.$$layer){W.$$layer_level=W.$$layer_level||1;W.$$layer=true;W.$$layer_resize=function(){setTimeout2(cls,function(){SETTER('layer','resize')},100)};ON('resize2',W.$$layer_resize)}self.readonly();self.make=function(){$(document.body).append('<div id="{1}" class="{0}"><div class="{0}-toolbar"><div class="{0}-toolbar-back"><button class="{0}-toolbar-backbutton"><i class="fa fa-times"></i></button></div><div class="{0}-toolbar-caption" data-bind="@config.title__html:value"></div></div><div class="{0}-body"><div class="{0}-scrollbar"></div></div></div>'.format(cls,self.ID));var el=$('#'+self.ID);el.find(cls2+'-scrollbar')[0].appendChild(self.dom);self.rclass('hidden');self.replace(el);self.event('click',cls2+'-toolbar-backbutton',self.hide);var body=el.find(cls2+'-body');if(config.scrollbar&&W.SCROLLBAR){self.scrollbar=SCROLLBAR(body.find(cls2+'-scrollbar'),{visibleY:!!config.scrollbarY,parent:cls2+'-body'});self.scrollleft=self.scrollbar.scrollLeft;self.scrolltop=self.scrollbar.scrollTop;self.scrollright=self.scrollbar.scrollRight;self.scrollbottom=self.scrollbar.scrollBottom}else body.aclass(cls+'-scroll');self.event('click',function(){var arr=self.get();var index=arr.indexOf(config.if);if(index!==-1&&index!==arr.length-1)self.set(arr.slice(0,index+1))})};self.hide=function(){var path=self.get();var index=path.indexOf(config.if);if(index!==-1){path.splice(index,1);self.refresh(true)}};self.$hide=function(){self.rclass(cls+'-visible');self.aclass('hidden',500);self.release(true)};self.resize=function(){var el=self.find(cls2+'-body');self.css('height',WH);var h=WH-el.offset().top;el.css('height',h);config.resize&&EXEC(config.resize,h);if(self.scrollbar){self.scrollbar.resize();setTimeout(self.scrollbar.resize,500)}};self.setter=function(value){$('html').tclass(cls+'-noscroll',value.length>0);var index=value.indexOf(config.if);if(index===-1){visible&&self.$hide();visible=false;return}if(visible){csspos['z-index']=10+index;csspos.width=(WW-config.offset)-(config.offset*index);self.attrd('index',index);self.css(csspos);setTimeout(self.resize,100);return}visible=true;csspos['z-index']=10+index;csspos.width=(WW-config.offset)-(config.offset*index);self.css(csspos);self.attrd('index',index);self.rclass('hidden');self.resize();self.release(false);config.reload&&EXEC(config.reload);config.default&&DEFAULT(config.default,true);setTimeout(function(){self.aclass(cls+'-visible');setTimeout(self.resize,100)},200)}});</script>