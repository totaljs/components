<style>.ui-button button{background-color:#FFF;border-radius:var(--radius);border:1px solid #E0E0E0;box-shadow:0 1px 2px rgba(0,0,0,.1);outline:0;cursor:pointer;width:100%;display:block;color:#000;user-select:none;-webkit-user-select:none;-moz-user-select:none}.ui-button button i{margin-right:5px}.ui-button button:hover{border-color:#D0D0D0}.ui-button button:active{box-shadow:none;background-color:var(--color);border-color:var(--color);color:#FFF}.ui-button button:active i{color:#FFF !important}.ui-button button:disabled{background-color:#F0F0F0;color:#777;cursor:not-allowed;box-shadow:none;border-color:#E0E0E0}.ui-button-big button{height:60px;font-size:18px}.ui-button-big button i{margin-right:8px}.ui-button-large button{height:45px;font-size:16px}.ui-button-normal button{height:36px;font-size:13px}.ui-button-small button{height:24px;font-size:11px}.ui-dark .ui-button button{background-color:#333;border-color:#353535;color:#FFF;box-shadow:0 1px 2px rgba(0,0,0,.3)}.ui-dark .ui-button button:hover{border-color:#404040}.ui-dark .ui-button button:active{box-shadow:none;background-color:var(--color);border-color:var(--color);color:#FFF}.ui-dark .ui-button button:active i{color:#FFF !important}.ui-dark .ui-button button:disabled{background-color:#303030;color:#777;border-color:#353535}.ui-dark .ui-button button:disabled i{color:#777 !important}</style>
<script>COMPONENT('button','delay:100;icon:ti ti-home;flags:visible;validation:1;name:submit;size:normal',function(self,config,cls){var ihtml,old,track,flags=null,tracked=false,ready=false;self.readonly();self.make=function(){self.aclass(cls);ihtml=self.dom.innerHTML;self.event('click','button',function(){var t=this;if(config.exec&&(!config.ddos||!BLOCKED(self.ID,config.ddos)))self.EXEC(config.exec,$(t),self.path)});self.redraw()};self.configure=function(key,value){switch(key){case'flags':if(value){flags=value.split(',');for(var i=0;i<flags.length;i++)flags[i]='@'+flags[i]}else flags=null;break;case'track':track=value.split(',').trim();break;case'disabled':self.button&&self.button.prop('disabled',!!value);break;case'icon':if(self.button){var i=self.find('i').rclass2('ti');if(value)i.aclass(self.icon(value)).rclass('hidden');else i.aclass('hidden')}break;case'size':ready&&self.rclass2(cls+'-');self.aclass(cls+'-'+value);break}};var settracked=function(){tracked=0};self.redraw=function(){var html='<i class="{0}"></i>'.format(config.icon?(self.icon(config.icon)+(config.color?(' '+config.color):'')):'hidden')+ihtml;self.html('<button'+(config.disabled||(self.path&&config.validation)?' disabled':'')+(config.name?(' name="'+config.name+'"'):'')+'>'+html+'</button>');self.button=self.find('button');if(ready){if(config.validation&&self.path)self.check()}else ready=false;self.rclass('hidden invisible',100)};self.setter=function(value,path,type){if(!config.validation||!path)return;if((type===1||type===2)&&track&&track.length){for(var i=0;i<track.length;i++){if(path.indexOf(track[i])!==-1){tracked=1;return}}if(tracked===1){tracked=2;setTimeout(settracked,config.delay*3)}}};var check=function(){var path=self.path.replace(/\.\*$/,'');var disabled=tracked||config.validonly?!VALID(path,flags):DISABLED(path,flags);if(!disabled&&config.if)disabled=!EVALUATE(path,config.if);if(disabled!==old&&self.button){self.button.prop('disabled',disabled);old=disabled}};self.state=function(type,what){if(config.validation&&self.path){if(type===3||what===3)tracked=0;setTimeout2(self.ID,check,config.delay)}}});</script>